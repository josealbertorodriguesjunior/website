!function(o){o.fn.blockScroll=function(i){function n(){o(window).on("scroll",function(i){var n=o(window).scrollTop(),t=o(window).height(),e=0;g.each(function(i,a){var r=o(this),c=r.offset().top,l=Math.abs(n-c);t>l&&(e=i,t=l)}),a(e)},250),o(window).resize(function(){l()}),o("#block-up-arrow").click(function(){t()}),o("#block-down-arrow").click(function(){e()}),o(document).keydown(function(o){return 37==o.keyCode||38==o.keyCode?(t(),!1):39==o.keyCode||40==o.keyCode?(e(),!1):void 0}),o(window).bind("mousewheel",function(o){o.originalEvent.wheelDelta>119?t():o.originalEvent.wheelDelta<-119&&e()})}function t(){v>0&&!y&&a(v-1)}function e(){k-1>v&&!y&&a(v+1)}function a(i){0==i?o("#block-up-arrow").hide():o("#block-up-arrow").show(),i==k-1?o("#block-down-arrow").hide():o("#block-down-arrow").show(),v=i,y=!0,o("html, body").animate({scrollTop:o(g[v]).offset().top},u.scrollDuration,"linear",function(){o(g[v]).animate({opacity:1},u.fadeDuration,"linear",function(){setTimeout(function(){y=!1,w=o(window).scrollTop()},50)})}),r()}function r(){h=k-1>v?o(g[v+1]).offset().top:-1,p=v>0?o(g[v-1]).offset().top:-1}function c(){f=o(window).height(),d=f*u.paddingRatio,s=f*u.triggerRatio}function l(){c(),g.each(function(i,n){var t=o(this);if(t.height("auto"),t.height()<f){var e=f/2-t.height()/2;t.height(f-e),t.css("padding-top",e+"px");o(t.children().filter("div")[0])}}),a(v)}var u=o.extend({startDiv:1,fadeDuration:"slow",paddingRatio:.05,triggerRatio:.005,scrollDuration:"fast",fadeBlocks:!0},i);u.triggerRatio>.95*u.paddingRatio&&(u.triggerRatio=.95*u.paddingRatio);var f,d,s,h,p,w,g=this.children().filter("div"),v=u.startDiv-1,k=g.length,y=!1;u.fadeBlocks&&this.children().each(function(){o(this).css("opacity","0")}),l(),o(g[v]).animate({opacity:1},u.fadeDuration,"linear",function(){o(window).scrollTop(0),r(),n(),w=o(window).scrollTop()});var b=function(o){a(o-1)};return{"goto":b}}}(jQuery),function(o){var i,n=o.fn.on;o.fn.on=function(){var o=Array.apply(null,arguments),t=o[o.length-1];if(isNaN(t)||1===t&&o.pop())return n.apply(this,o);var e=o.pop(),a=o.pop();return o.push(function(){var o=this,n=arguments;clearTimeout(i),i=setTimeout(function(){a.apply(o,n)},e)}),n.apply(this,o)}}(this.jQuery||this.Zepto);